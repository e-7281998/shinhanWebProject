<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>event에 대하여</title>
<script>
	window.onload = function(){
		//=을 만나면 오룬쪽 먼저 해석
		//이벤트핸들러(이벤트리스너)를 왼쪽의 이벤트 속성에 할당한다.
		//함수를 수행하는 것이 아니고, 이벤트가 발생하면 함수가 호출된다.
		btn1.onclick = call;
		btn2.onclick = call2;
		btn3.onclick = call3;
		btn4.onclick = call4;
		//form1.onsubmit = validation;
	};
	
	function validation(){
		alert('validation');
		var userid = document.querySelector("#userid").value;
		if(userid.length < 5)
			return false;	//서버에 전송하는 행위(default)를 취소
		//만약에 inline방식으로 작성된 경우는
		//onsubmit = "return validation()" 으로 작성

		var pass1 = document.querySelector("#userpass1").value;
		var pass2 = document.querySelector("#userpass2").value;
		if(pass1 !== pass2){
			alert('비밀번호를 확인해주세요.');
			document.querySelector("userpass2").value = "";
			document.querySelector("userpass2").focus();
			return false;
		}
	}
	
	function call4(){
		here.innerHTML = this.innerHTML;
		btn2.onclick();
	}
	
	function call3(event){
		var str = "";
		for(let key in event){
			str += "<br>" + key + " ===> " + event[key];
		}
		here.innerHTML = str;
	}
	
	
	function call2(){
		here.innerHTML = this.innerHTML;
		this.style.backgroundColor = "lightyellow";
		btn1.style.backgroundColor = "lightgreen";
		btn1.onclick = null;
		
	}
	
	function call(){
		alert(this.innerHTML);
		here.innerHTML = this.innerHTML;
	}
	
</script>
</head>
<body>
	<h1>Event event속성(on~~), event Handler, event listener(function)</h1>
	<button id="btn1">이벤트 핸들러 넣기</button>
	<button id="btn2">이벤트 핸들러 제거</button>
	<button id="btn3">이벤트 속성</button>
	<button id="btn4">이벤트 강제호출</button>
	<button id="btn4">default Event: form의 onsubmit</button>
	<form id="form1" action="1.jsp" onsubmit="return validation()">
		아이디 : <input name="userid" value="hr">
		비밀번호 : <input name="userpass1" value="1234">
		비밀번호 확인 : <input name="userpass2" value="1234">
		<input type="submit" value="서버로전송">
	</form>
	<hr>
	<div id="here">여기</div>
</body>
</html>